
      /* 
       * Copyright Â© Monetizer101 - All Rights Reserved
       * Unauthorized copying of this file, via any medium is strictly prohibited.
       * Proprietary and confidential.
       * Price Comparison - Library
       * Version: 1.0.0
       * Written by Emilio Venezia <e.venezia@monetizer101.com>, 2019-6-13
       */
      
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PriceComparison=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),c=r(a),s=n(7),u=r(s),l=n(8),d=r(l);n(10).polyfill();t.PriceComparison=function(){function e(t){i(this,e);var n={displayWidgets:!0,domain:"link.monetizer101.com",shopId:1,geolocation:!1,template:"default",title:"",copyright:"",limitTitle:"",resultLimit:4,dataType:"price-comparison",sourcePage:encodeURI(window.location.href),roundPrice:!1},r=Object.assign(n,t);for(var o in r)r.hasOwnProperty(o)&&(this[o]=r[o]);(!this.displayWidgets&&document.getElementById("m101WidgetON")||this.displayWidgets&&!document.getElementById("m101WidgetOFF"))&&(this.initLoaded=!1,this.selector='[data-type="'+this.dataType+'"]:not([data-checked="true"])',this.nodeList=document.querySelectorAll(this.selector),this.domain=window.location.protocol+"//"+this.domain,this.source="SEARCH_WIDGET",this.eventOK=document.createEvent("Event"),this.eventOK.initEvent("m101-render-start",!0,!0),this.eventKO=document.createEvent("Event"),this.eventKO.initEvent("m101-no-fill",!0,!0),this.initLoaded||(d.default.template(this.shopId,this.domain,this.template),this.init(0,this.nodeList.length)))}return o(e,[{key:"reInit",value:function(){this.initLoaded=!1,this.nodeList=document.querySelectorAll(this.selector),this.init(0,this.nodeList.length)}},{key:"isUPC",value:function(e){return e.match(/^\d{12}$/)}},{key:"isEAN",value:function(e){return e.match(/^\d{13}$/)}},{key:"init",value:function(e,t){var n=this;if(this.initLoaded=!0,void 0===e&&(e=0),e>=t){return void new MutationObserver(function(e){document.contains(document.querySelector(n.selector))&&n.reInit()}).observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}var r=this.nodeList[e],i=JSON.parse(r.getAttribute("data-config")),o=this.prices(i.delta,i.price,i.priceMin,i.priceMax),a=r.hasAttribute("data-url");if(i.shopId=this.shopId,i._isoCurrencyCode=i.isoCurrencyCode?i.isoCurrencyCode:"",i._isoLanguageCode=i.isoLanguageCode?i.isoLanguageCode:"",i.isoCurrencyCode=this.isoCurrencyCode,i.isoLanguageCode=this.isoLanguageCode,i.roundPrice=this.roundPrice,i.groupField="MERCHANT",i.maxProductsPerGroup=1,i.priceType=i.priceType?i.priceType:"SALE_PRICE",i.priceMin=o.priceMin,i.priceMax=o.priceMax,i.sortingField="PRICE",i.sortingOrder="asc",i.nameKeywords=i.nameKeywords?i.nameKeywords.replace(/&/g," "):"",i.nameKeywordsMatchType="EXACT",i.resultLimit=i.resultLimit?i.resultLimit:this.resultLimit,i.template=r.hasAttribute("data-template")?r.getAttribute("data-template"):"",i.title=r.getAttribute("data-title")?r.getAttribute("data-title"):"",i.url=a?r.getAttribute("data-url"):"",i.barcode=i.barcode?i.barcode:"",this.isUPC(i.nameKeywords)){var s={identifierType:"UPC",identifierValue:""+i.nameKeywords,nameKeywords:""};Object.assign(i,s)}if(this.isEAN(i.nameKeywords)){var l={identifierType:"EAN",identifierValue:""+i.nameKeywords,nameKeywords:""};Object.assign(i,l)}if(r.setAttribute("data-checked",!0),this.geolocation){if(u.default.get("isoCurrencyCode"))i.isoCurrencyCode=u.default.get("isoCurrencyCode"),i.isoLanguageCode=u.default.get("isoLanguageCode"),this.search(r,i,e,t);else{var d=this.domain+"/shop-rest/api/int/shop/"+this.shopId+"/market/detect";c.default.get(d).then(function(o){try{i.isoCurrencyCode=o.currencyCode,i.isoLanguageCode=o.languageCode,u.default.set("isoCurrencyCode",i.isoCurrencyCode),u.default.set("isoLanguageCode",i.isoLanguageCode),n.search(r,i,e,t)}catch(o){console.log(o),u.default.set("isoCurrencyCode",i.isoCurrencyCode),u.default.set("isoLanguageCode",i.isoLanguageCode),n.search(r,i,e,t)}})}}else this.search(r,i,e,t)}},{key:"fixedEncodeURIComponent",value:function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}},{key:"search",value:function(e,t,n,r){var i=this,o=this.domain+"/shop-rest/api/int/shop/"+this.shopId+"/widget/search",a=this.domain+"/shop-rest/api/int/shop/"+this.shopId+"/compare/prices/"+(t._isoCurrencyCode||t.isoCurrencyCode)+"_"+(t._isoLanguageCode||t.isoLanguageCode)+"/by/plainlink?url="+(t.url?this.fixedEncodeURIComponent(decodeURIComponent(t.url)):this.fixedEncodeURIComponent(decodeURIComponent(t.nameKeywords.replace(/\\/g,""))))+"&barcode="+t.barcode+"&limit="+t.resultLimit;t.url||/^http/.test(t.nameKeywords)?c.default.get(a).then(function(o){try{o.length?i.createWidget(o,t,function(t){window.dispatchEvent(i.eventOK),e.innerHTML=t,void 0!==i.onLoad&&i.onLoad(e),n++,i.init(n,r)}):(void 0!==i.onEmpty&&i.onEmpty(e),n++,i.init(n,r))}catch(e){console.log(e),console.log("Product not found with these parameters:\n \n          nameKeywords: "+t.nameKeywords+"\n\n          priceMin: "+t.priceMin+"\n\n          priceMax: "+t.priceMax+"\n\n          "),n++,i.init(n,r)}}):c.default.get(o,t).then(function(o){try{o.products.length?i.createWidget(o.products,t,function(t){window.dispatchEvent(i.eventOK),e.innerHTML=t,void 0!==i.onLoad&&i.onLoad(e),n++,i.init(n,r)}):(void 0!==i.onEmpty&&i.onEmpty(e),window.dispatchEvent(i.eventKO),n++,i.init(n,r))}catch(o){window.dispatchEvent(i.eventKO),void 0!==i.onEmpty&&i.onEmpty(e),console.log("Product not found with these parameters:\n \n          nameKeywords: "+t.nameKeywords+"\n\n          priceMin: "+t.priceMin+"\n\n          priceMax: "+t.priceMax+"\n\n          "),n++,i.init(n,r)}})}},{key:"prices",value:function(e,t,n,r){var i=function(e){var r=parseInt(e),i=1-r/100,o=1+r/100*3,a=parseFloat("string"==typeof t?t.replace(",",""):t)*i,c=parseFloat("string"==typeof t?t.replace(",",""):t)*o;return void 0!==n&&a<n?{priceMin:parseFloat("string"==typeof n?n.replace(",",""):n).toFixed(2),priceMax:c.toFixed(2)}:{priceMin:a.toFixed(2),priceMax:c.toFixed(2)}};return void 0!==e&&void 0!==t?i(e):this.hasOwnProperty("delta")&&void 0!==t?i(this.delta):void 0!==n&&void 0!==r?{priceMin:parseFloat("string"==typeof n?n.replace(",",""):n).toFixed(2),priceMax:parseFloat("string"==typeof r?r.replace(",",""):r).toFixed(2)}:{priceMin:void 0===n?"":parseFloat("string"==typeof n?n.replace(",",""):n).toFixed(2),priceMax:void 0===r?"":parseFloat("string"==typeof r?r.replace(",",""):r).toFixed(2)}}},{key:"sign",value:function(e){switch(e){case"GBP":return"&pound;";case"AUD":case"USD":case"CAD":return"$";case"EUR":return"&euro";case"CHF":return"CHF";case"DKK":return"DKK"}}},{key:"checkUrl",value:function(e){return e=e.replace(/^https?:\/\/link.monetizer101.com/,this.domain),-1!==e.indexOf("?")?e+"&referrer="+this.sourcePage:e+"?referrer="+this.sourcePage}},{key:"createWidget",value:function(e,t,n){n(d.default.build(t,e,this.domain,this.template,this.title,this.limitTitle))}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=function(){function e(){r(this,e)}return i(e,null,[{key:"Obj",value:function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],t=void 0,n=0;n<e.length;n++)try{t=new ActiveXObject(e[n]);break}catch(e){}return t}},{key:"send",value:function(t,n,r,i,o){void 0===o&&(o=!0);var c=function(e){var t=void 0;try{t=JSON.parse(e)}catch(n){t=e}return t};return new a.default(function(a,s){var u=e.Obj();if(u.open(n,t,o),i)for(var l in i)i.hasOwnProperty(l)&&u.setRequestHeader(l,i[l]);u.onload=function(){this.status>=200&&this.status<300?a(c(u.response)):s({status:this.status,statusText:u.statusText})},u.onerror=function(){s({status:this.status,statusText:u.statusText})},u.send(r)})}}]),e}(),s=function(){function e(){r(this,e)}return i(e,null,[{key:"get",value:function(e,t,n,r){var i=[];for(var o in t)i.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return c.send(e+(i.length?"?"+i.join("&"):""),"GET",null,n,r)}},{key:"post",value:function(e,t,n,r){return c.send(e,"POST",JSON.stringify(t),n,r)}},{key:"put",value:function(e,t,n,r,i){var o=[];for(var a in t)o.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return c.send(e+(o.length?"?"+o.join("&"):""),"PUT",void 0===n?null:JSON.stringify(n),r,i)}},{key:"delete",value:function(e,t,n,r){var i=[];for(var o in t)i.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return c.send(e+(i.length?"?"+i.join("&"):""),"DELETE",null,n,r)}}]),e}();t.default=s},function(e,t,n){"use strict";(function(t){function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:c)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}a(t.promise,r)})}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l(r(n,t),e)}e._state=1,e._value=t,s(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new u(e,t,r)),r},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(t){r(e,t)},n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(t,n(4).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(5),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,c(s),s++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var c,s=1,u={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){c=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),c=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},c=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;c=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){c=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(0),n(6))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&c())}function c(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,m=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],m=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||m||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"get",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}},{key:"set",value:function(e,t){var n=new Date,r=n.getTime();r+=36e5,n.setTime(r),document.cookie=e+"="+t+"; expires="+n.toUTCString()+"; path=/"}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=function(){function e(){r(this,e)}return i(e,null,[{key:"url",value:function(e,t){var n=e.replace(/^https?:\/\/link.monetizer101.com/,t);return-1!==n.indexOf("?")?n+"&referrer="+window.location.href:n+"?referrer="+window.location.href}},{key:"truncate",value:function(e,t){return e.length>t?e.substring(0,t)+"...":e}},{key:"discount",value:function(e){return e?"-"+parseInt(e)+"%":""}},{key:"currencyCode",value:function(e){switch(e){case"GBP":return"Â£";case"AUD":case"USD":case"CAD":return"$";case"EUR":return"â¬";case"CHF":return"CHF";case"DKK":return"DKK"}}}]),e}(),s=function(){function e(){r(this,e)}return i(e,null,[{key:"template",value:function(e,t,n){var r=document.createElement("link");n.match(/default(\d+)?$/)?r.href=t+"/css/shop/default/"+n:r.href=t+"/css/shop/"+e+"/"+n,r.onerror=function(){console.log("Template not found.")},r.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(r)}},{key:"build",value:function(e,t,n,r,i,o){if(e.template&&!document.querySelector("#m101-template-"+e.template)){var s=document.createElement("link");e.template.match(/default(\d+)?$/)?s.href=n+"/css/shop/default/"+e.template:s.href=n+"/css/shop/"+e.shopId+"/"+e.template,s.onerror=function(){console.log("Template not found.")},s.rel="stylesheet",s.id="m101-template-"+e.template;document.getElementsByTagName("head")[0].appendChild(s)}var u=[],l="m101-widget";u.push('<div class="m101-widget '+(e.template?e.template:r)+'">'),(i||e.title)&&u.push('<div class="m101-widget-price-comparison-title">'+(e.title?e.title:i)+"</div>"),"dranggljjm"!==e.template&&"dranggljjm"!==r||u.push('<div class="m101-widget-price-comparison-title">Available from:</div>'),"fwrjvvtgbn"!==e.template&&"fwrjvvtgbn"!==r||u.push('<div class="m101-widget-price-comparison-title">Available from:</div>');for(var d=0;d<t.length;d++){var f=c.url(t[d].deepLink,n);u.push(' \n      <div class="m101-widget-row">\n      <div class="m101-widget-image">\n        <a href="'+f+'" target="_blank" rel="nofollow">\n        <img src="'+t[d].imageURL+'">\n        </a>\n        </div>      \n      <div class="'+l+'-product-name">\n        <a href="'+f+'" target="_blank" title="'+t[d].name+'" rel="nofollow">'+(o?c.truncate(t[d].name,parseInt(o)):t[d].name)+'</a>\n        </div>     \n      <div class="'+l+'-merchant-name">\n        <a href="'+f+'" target="_blank" rel="nofollow">'+t[d].merchant.name+'</a>\n        </div>\n      <div class="'+l+'-merchant-image">\n        <a href="'+f+'" target="_blank" rel="nofollow">\n        <img src="'+t[d].merchant.logoUrl+'">\n        </a>\n        </div>      \n      <div class="'+l+'-original-price">\n        <a href="'+f+'" target="_blank" rel="nofollow">'+c.currencyCode(t[d].currency)+(e.roundPrice?(0,a.default)(t[d].retailPrice):t[d].retailPrice.toFixed(2))+'</a>\n      </div>      \n      <div class="'+l+'-final-price">\n        <a href="'+f+'" target="_blank" rel="nofollow">'+c.currencyCode(t[d].currency)+(e.roundPrice?(0,a.default)(t[d].salePrice):t[d].salePrice.toFixed(2))+"</a>              \n      </div>\n      "+(t[d].discountRate?'\n      <div class="m101-widget-discount">\n        <a href="'+f+'" target="_blank" rel="nofollow">'+c.discount(t[d].discountRate)+"</a>              \n      </div>    \n      ":"")+'                \n      <div class="'+l+'-button">\n        <a href="'+f+'" target="_blank" rel="nofollow"></a>\n        </div>  \n      </div>\n      ')}return"dranggljjm"!==e.template&&"dranggljjm"!==r||u.push('<div class="m101-widget-row"><img class="m101-img" src="https://knl.mntzrlt.net/widget/img/logo-monetizer101.png"></div><div class="m101-widget-row"><a href="https://www.bbcgoodfood.com/article/monetizer-101" target="_blank" class="m101-link">How this shopping box works</a></div>'),"fwrjvvtgbn"!==e.template&&"fwrjvvtgbn"!==r||u.push('<div class="m101-widget-row"><img class="m101-img" src="https://knl.mntzrlt.net/widget/img/logo-monetizer101.png"></div><div class="m101-widget-row"><a href="https://www.gardenersworld.com/how-to/choose-tools/monetizer-101" target="_blank" class="m101-link">How this shopping box works</a></div>'),u.push("</div>"),u.join("")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e<0?Math.ceil(e):Math.floor(e)}},function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,c=o.length;a<c;a++){var s=o[a],u=Object.getOwnPropertyDescriptor(i,s);void 0!==u&&u.enumerable&&(n[s]=i[s])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}e.exports={assign:r,polyfill:i}}])});